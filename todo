Refactoring:

Features:
    comments #
    errors when duplicating redirects
    interactive
    xmalloc
    write tests
